{"ast":null,"code":"var _jsxFileName = \"/home/lorismilloni/Code/repos/study-projects/studies-frontend-expense-wallet/src/components/AddExpenseForm.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { fetchCurrencies } from '../actions/wallet';\nimport getCurrenciesFromAPI from '../services/API'; // a implementação das funções desse requisito foi feita com a ajuda da Yasmim Matos\n\nclass AddExpenseForm extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = _ref => {\n      let {\n        target: {\n          id,\n          value\n        }\n      } = _ref;\n      this.setState(previousState => ({ ...previousState,\n        expenses: { ...previousState.expenses,\n          [id]: value\n        }\n      }));\n    };\n\n    this.addNewExpense = () => {\n      const {\n        expenses\n      } = this.state;\n      const {\n        dispatch\n      } = this.props;\n      dispatch(fetchCurrencies(expenses));\n      this.setState(previousState => ({ ...previousState,\n        expenses: { ...previousState.expenses,\n          id: previousState.expenses.id + 1,\n          value: 0,\n          description: ''\n        }\n      }));\n    };\n\n    this.state = {\n      currencies: [],\n      expenses: {\n        id: 0,\n        value: '',\n        description: '',\n        currency: 'USD',\n        method: 'Dinheiro',\n        tag: 'Alimentação'\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const exchangeRates = await getCurrenciesFromAPI();\n    const currencies = Object.keys(exchangeRates).filter(currency => currency !== 'USDT'); // filtra passando pelas chaves do objeto retornado da getCFA as moedas diferentes de USDT\n\n    this.setState({\n      currencies\n    });\n  }\n\n  render() {\n    const paymentMethods = ['Dinheiro', 'Cartão de crédito', 'Cartão de débito'];\n    const expenseCategory = ['Alimentação', 'Lazer', 'Trabalho', 'Transporte', 'Saúde'];\n    const {\n      currencies,\n      expenses: {\n        value,\n        description,\n        currency,\n        method,\n        tag\n      }\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, \"Valor\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      id: \"value\",\n      value: value,\n      onChange: this.handleChange,\n      \"data-testid\": \"value-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, \"Descri\\xE7\\xE3o\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"description\",\n      value: description,\n      onChange: this.handleChange,\n      \"data-testid\": \"description-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"currency\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"currency\",\n      value: currency,\n      onChange: this.handleChange,\n      \"data-testid\": \"currency-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, currencies.map(currencyOption => /*#__PURE__*/React.createElement(\"option\", {\n      \"data-testid\": currencyOption,\n      value: currencyOption,\n      key: currencyOption,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, currencyOption))), \"Moeda\"), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"method\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"method\",\n      value: method,\n      onChange: this.handleChange,\n      \"data-testid\": \"method-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, paymentMethods.map(payment => /*#__PURE__*/React.createElement(\"option\", {\n      \"data-testid\": payment,\n      value: payment,\n      key: payment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, payment)))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      id: \"tag\",\n      value: tag,\n      onChange: this.handleChange,\n      \"data-testid\": \"tag-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, expenseCategory.map(category => /*#__PURE__*/React.createElement(\"option\", {\n      \"data-testid\": category,\n      value: category,\n      key: category,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, category)))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      id: \"save-expense\",\n      onClick: this.addNewExpense,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, \"Adicionar despesas\")));\n  }\n\n}\n\nAddExpenseForm.propTypes = {\n  dispatch: PropTypes.func\n}.isRequired;\nexport default connect()(AddExpenseForm);","map":{"version":3,"sources":["/home/lorismilloni/Code/repos/study-projects/studies-frontend-expense-wallet/src/components/AddExpenseForm.js"],"names":["React","connect","PropTypes","fetchCurrencies","getCurrenciesFromAPI","AddExpenseForm","Component","constructor","handleChange","target","id","value","setState","previousState","expenses","addNewExpense","state","dispatch","props","description","currencies","currency","method","tag","componentDidMount","exchangeRates","Object","keys","filter","render","paymentMethods","expenseCategory","map","currencyOption","payment","category","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { fetchCurrencies } from '../actions/wallet';\nimport getCurrenciesFromAPI from '../services/API';\n\n// a implementação das funções desse requisito foi feita com a ajuda da Yasmim Matos\n\nclass AddExpenseForm extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      currencies: [],\n      expenses: {\n        id: 0,\n        value: '',\n        description: '',\n        currency: 'USD',\n        method: 'Dinheiro',\n        tag: 'Alimentação',\n      },\n    };\n  }\n\n  async componentDidMount() {\n    const exchangeRates = await getCurrenciesFromAPI();\n    const currencies = Object.keys(exchangeRates)\n      .filter((currency) => currency !== 'USDT');\n    // filtra passando pelas chaves do objeto retornado da getCFA as moedas diferentes de USDT\n    this.setState({ currencies });\n  }\n\n  handleChange = ({ target: { id, value } }) => {\n    this.setState(\n      (previousState) => ({\n        ...previousState,\n        expenses: { ...previousState.expenses, [id]: value },\n      }),\n    );\n  }\n\n  addNewExpense = () => {\n    const { expenses } = this.state;\n    const { dispatch } = this.props;\n\n    dispatch(fetchCurrencies(expenses));\n\n    this.setState((previousState) => (\n      { ...previousState,\n        expenses: {\n          ...previousState.expenses,\n          id: previousState.expenses.id + 1,\n          value: 0,\n          description: '',\n        },\n      }\n    ));\n  }\n\n  render() {\n    const paymentMethods = [\n      'Dinheiro',\n      'Cartão de crédito',\n      'Cartão de débito',\n    ];\n\n    const expenseCategory = [\n      'Alimentação',\n      'Lazer',\n      'Trabalho',\n      'Transporte',\n      'Saúde',\n    ];\n\n    const {\n      currencies,\n      expenses: {\n        value,\n        description,\n        currency,\n        method,\n        tag,\n      },\n    } = this.state;\n\n    return (\n      <section>\n        <form>\n          <label htmlFor=\"value\">\n            Valor\n            <input\n              type=\"number\"\n              id=\"value\"\n              value={ value }\n              onChange={ this.handleChange }\n              data-testid=\"value-input\"\n            />\n          </label>\n          <label htmlFor=\"description\">\n            Descrição\n            <input\n              type=\"text\"\n              id=\"description\"\n              value={ description }\n              onChange={ this.handleChange }\n              data-testid=\"description-input\"\n            />\n          </label>\n          <label htmlFor=\"currency\">\n            <select\n              id=\"currency\"\n              value={ currency }\n              onChange={ this.handleChange }\n              data-testid=\"currency-input\"\n            >\n              { currencies.map((currencyOption) => (\n                <option\n                  data-testid={ currencyOption }\n                  value={ currencyOption }\n                  key={ currencyOption }\n                >\n                  { currencyOption }\n                </option>\n              ))}\n            </select>\n            Moeda\n          </label>\n          <label htmlFor=\"method\">\n            <select\n              id=\"method\"\n              value={ method }\n              onChange={ this.handleChange }\n              data-testid=\"method-input\"\n            >\n              { paymentMethods.map((payment) => (\n                <option\n                  data-testid={ payment }\n                  value={ payment }\n                  key={ payment }\n                >\n                  { payment }\n                </option>\n              ))}\n            </select>\n          </label>\n          <label htmlFor=\"tag\">\n            <select\n              id=\"tag\"\n              value={ tag }\n              onChange={ this.handleChange }\n              data-testid=\"tag-input\"\n            >\n              { expenseCategory.map((category) => (\n                <option\n                  data-testid={ category }\n                  value={ category }\n                  key={ category }\n                >\n                  { category }\n                </option>\n              ))}\n            </select>\n          </label>\n          <button\n            type=\"button\"\n            id=\"save-expense\"\n            onClick={ this.addNewExpense }\n          >\n            Adicionar despesas\n          </button>\n        </form>\n      </section>\n    );\n  }\n}\n\nAddExpenseForm.propTypes = {\n  dispatch: PropTypes.func,\n}.isRequired;\n\nexport default connect()(AddExpenseForm);\n"]},"metadata":{},"sourceType":"module"}