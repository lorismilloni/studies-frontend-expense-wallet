{"ast":null,"code":"var _jsxFileName = \"/home/lorismilloni/Code/repos/study-projects/studies-frontend-expense-wallet/src/pages/Login.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport saveEmail from '../actions/user';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChangeEmail = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value\n      } = target;\n      this.setState({\n        email: value\n      }, this.validateButton);\n    };\n\n    this.handleChangePass = _ref2 => {\n      let {\n        target\n      } = _ref2;\n      const {\n        value\n      } = target;\n      this.setState({\n        password: value\n      }, this.validateButton);\n    };\n\n    this.validateButton = () => {\n      /* console.log('entrou'); */\n      const {\n        email,\n        password\n      } = this.state;\n      const MIN_LENGTH = 6;\n      const regex = /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+(\\.[a-z]+)?$/i;\n      const emailValid = regex.test(email); // aqui faço o uso do regex, uma expressão regular ou string de texto especial, para fazer validação dos caracteres do e-mail, aprendi ao fazer o projeto Trivia com o Francisco do meu grupo\n\n      if (password.length >= MIN_LENGTH && emailValid) {\n        this.setState({\n          disabled: false\n        });\n      } else {\n        this.setState({\n          disabled: true\n        });\n      }\n    };\n\n    this.handleClick = () => {\n      const {\n        email\n      } = this.state;\n      const {\n        history,\n        saveEmailDispatch\n      } = this.props;\n      saveEmailDispatch(email); // essa função está sendo lançada como uma props, por conta da estrutura usada lá embaixo não é necessário usar o dispatch, o email tá sendo enviando como parâmetro\n\n      history.push('/carteira');\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      disabled: true\n    };\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      disabled\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Digite o seu e-mail\",\n      id: \"email\",\n      value: email,\n      onChange: this.handleChangeEmail,\n      \"data-testid\": \"email-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Digite a sua senha\",\n      id: \"password\",\n      value: password,\n      onChange: this.handleChangePass,\n      \"data-testid\": \"password-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      disabled: disabled,\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, \"Entrar\")));\n  }\n\n}\n\nLogin.propTypes = {\n  email: PropTypes.string,\n  password: PropTypes.string,\n  saveEmailDispatch: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  })\n}.isRequired;\n\nconst mapDispatchToProps = dispatch => ({\n  saveEmailDispatch: email => dispatch(saveEmail(email))\n}); // apesar do email estar indo para o estado faltava o mapDTP, erro visto com ajuda da Yasmim Matos\n\n\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/lorismilloni/Code/repos/study-projects/studies-frontend-expense-wallet/src/pages/Login.js"],"names":["React","PropTypes","connect","saveEmail","Login","Component","constructor","handleChangeEmail","target","value","setState","email","validateButton","handleChangePass","password","state","MIN_LENGTH","regex","emailValid","test","length","disabled","handleClick","history","saveEmailDispatch","props","push","render","propTypes","string","func","shape","isRequired","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport saveEmail from '../actions/user';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      email: '',\n      password: '',\n      disabled: true,\n    };\n  }\n\n  handleChangeEmail = ({ target }) => {\n    const { value } = target;\n    this.setState({\n      email: value,\n    }, this.validateButton);\n  }\n\n  handleChangePass = ({ target }) => {\n    const { value } = target;\n    this.setState({\n      password: value,\n    }, this.validateButton);\n  }\n\n  validateButton = () => {\n    /* console.log('entrou'); */\n    const { email, password } = this.state;\n    const MIN_LENGTH = 6;\n\n    const regex = /^[a-z0-9.]+@[a-z0-9]+\\.[a-z]+(\\.[a-z]+)?$/i;\n    const emailValid = regex.test(email);\n    // aqui faço o uso do regex, uma expressão regular ou string de texto especial, para fazer validação dos caracteres do e-mail, aprendi ao fazer o projeto Trivia com o Francisco do meu grupo\n\n    if (password.length >= MIN_LENGTH && emailValid) {\n      this.setState({\n        disabled: false,\n      });\n    } else {\n      this.setState({\n        disabled: true,\n      });\n    }\n  }\n\n  handleClick = () => {\n    const { email } = this.state;\n    const { history, saveEmailDispatch } = this.props;\n\n    saveEmailDispatch(email);\n    // essa função está sendo lançada como uma props, por conta da estrutura usada lá embaixo não é necessário usar o dispatch, o email tá sendo enviando como parâmetro\n    history.push('/carteira');\n  }\n\n  render() {\n    const { email, password, disabled } = this.state;\n\n    return (\n      <>\n        <h3>Login</h3>\n        <section>\n          <label htmlFor=\"email\">\n            <input\n              type=\"text\"\n              placeholder=\"Digite o seu e-mail\"\n              id=\"email\"\n              value={ email }\n              onChange={ this.handleChangeEmail }\n              data-testid=\"email-input\"\n            />\n          </label>\n        </section>\n        <section>\n          <label htmlFor=\"password\">\n            <input\n              type=\"password\"\n              placeholder=\"Digite a sua senha\"\n              id=\"password\"\n              value={ password }\n              onChange={ this.handleChangePass }\n              data-testid=\"password-input\"\n            />\n          </label>\n        </section>\n        <section>\n          <button\n            type=\"button\"\n            disabled={ disabled }\n            onClick={ this.handleClick }\n          >\n            Entrar\n          </button>\n        </section>\n      </>\n    );\n  }\n}\n\nLogin.propTypes = {\n  email: PropTypes.string,\n  password: PropTypes.string,\n  saveEmailDispatch: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n}.isRequired;\n\nconst mapDispatchToProps = (dispatch) => ({\n  saveEmailDispatch: (email) => dispatch(saveEmail(email)),\n});\n\n// apesar do email estar indo para o estado faltava o mapDTP, erro visto com ajuda da Yasmim Matos\n\nexport default connect(null, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}